<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Calculator</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#22c55e">

<!-- Digital Font -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#020617; 
  --panel:#0f172a; 
  --btn:#1e293b;
  --accent:#22c55e; 
  --text:#e5e7eb;
}

body{
  margin:0;
  background:radial-gradient(circle,var(--panel),var(--bg));
  font-family:Segoe UI,sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.calc{
  width:320px;
  background:var(--panel);
  padding:20px;
  border-radius:20px;
  box-shadow:0 0 40px rgba(34,197,94,.4);
  animation:pop .6s ease;
}

@keyframes pop{
  from{transform:scale(.8);opacity:0}
  to{transform:scale(1);opacity:1}
}

/* ðŸ”¥ SCREEN FIX */
.screen{
  background:#020617;
  padding:18px;
  font-size:30px;
  font-family:'Orbitron', monospace;
  font-weight:600;
  letter-spacing:2px;
  color:#22c55e;
  border-radius:12px;
  text-align:right;
  margin-bottom:15px;
  box-shadow: inset 0 0 15px rgba(34,197,94,.4);
  text-shadow: 0 0 8px rgba(34,197,94,.8);
}

.keys{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}

button{
  padding:15px;
  font-size:18px;
  border:none;
  border-radius:12px;
  background:var(--btn);
  color:var(--text);
  cursor:pointer;
  transition:.15s;
}

button:hover{
  background:#334155;
}

button:active{
  transform:scale(.92);
}

.op{
  background:#334155;
  color:#38bdf8;
}

.equal{
  background:var(--accent);
  color:#020617;
  grid-column:span 2;
  font-weight:700;
}

.install{
  margin-top:15px;
  width:100%;
  background:#16a34a;
  color:#020617;
  font-weight:700;
}
</style>
</head>

<body>

<div class="calc">
  <div id="screen" class="screen">0</div>

  <div class="keys">
    <button onclick="clr()">C</button>
    <button onclick="del()">âŒ«</button>
    <button class="op" onclick="add('/')">Ã·</button>
    <button class="op" onclick="add('*')">Ã—</button>

    <button onclick="add('7')">7</button>
    <button onclick="add('8')">8</button>
    <button onclick="add('9')">9</button>
    <button class="op" onclick="add('-')">âˆ’</button>

    <button onclick="add('4')">4</button>
    <button onclick="add('5')">5</button>
    <button onclick="add('6')">6</button>
    <button class="op" onclick="add('+')">+</button>

    <button onclick="add('1')">1</button>
    <button onclick="add('2')">2</button>
    <button onclick="add('3')">3</button>
    <button class="equal" onclick="calc()">=</button>

    <button onclick="add('0')">0</button>
    <button onclick="add('.')">.</button>
  </div>

  <button id="installBtn" class="install" style="display:none">
    â¬‡ Download App
  </button>
</div>

<script>
let exp="";
const screen=document.getElementById("screen");

function add(v){
  exp+=v;
  screen.innerText=exp;
}

function clr(){
  exp="";
  screen.innerText="0";
}

function del(){
  exp=exp.slice(0,-1);
  screen.innerText=exp||"0";
}

function calc(){
  try{
    exp=eval(exp).toString();
    screen.innerText=exp;
  }catch{
    screen.innerText="Error";
    exp="";
  }
}

/* PWA install */
let installPrompt;
const btn=document.getElementById("installBtn");

window.addEventListener("beforeinstallprompt",e=>{
  e.preventDefault();
  installPrompt=e;
  btn.style.display="block";
});

btn.onclick=()=>{
  installPrompt.prompt();
  btn.style.display="none";
};

/* Service Worker */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
